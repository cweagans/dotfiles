##
# Paths
##
set folder = ~/.cache/mail
set alias_file = ~/.config/mutt/aliases
set header_cache = ~/.cache/mutt/headers
set message_cachedir = ~/.cache/mutt/bodies
set certificate_file = ~/.cache/mutt/certificates
set mailcap_path = ~/.config/mutt/mailcap

##
# Basic options
##
# Don't wait for a key press after external command invocation.
set wait_key = no

# Use Maildirs
set mbox_type = Maildir

# Check for mail in Maildir every 5 minutes.
set mail_check = 300

# Turn off mbox behavior.
unset move

# Actually delete messages.
set delete

# Don't ask for confirmation when saving messages to an existing mailbox.
unset confirmappend

# quit and exit commands should exit mutt.
set quit

# Don't mark new, unread messages as old until I read them.
unset mark_old

# Don't beep on errors.
unset beep

# Beep on new messages.
set beep_new

# Weed headers and attempt to decode messages before piping messages.
set pipe_decode

# Search attachments and/or find non-ASCII characters.
set thorough_search

# Set the regular expression used for determining which parts of a message are quotes.
set quote_regexp = "^( {0,4}[>|:#%]| {0,4}[a-z0-9]+[>|]+)+"

# Sort configuration
set sort = threads
set sort_aux = reverse-last-date-received

##
# MIME handling
##
# Don't autoview anything unless I say so.
unauto_view *

# Automatically render html emails using mailcap configuration.
auto_view text/html

# Prefer plain text emails.
alternative_order text/plain text/enriched text/html

##
# Status bar
##
# Turn off "unchanged" status.
set status_chars = " *%A"
set status_format = "───[ Folder: %f ]───[%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]───%>─%?p?( %p postponed )?───"

##
# Headers
##
# Ignore all headers.
ignore *

# Whitelist specific headers.
unignore from: to: cc: date: subject:

# Unset the predefined header ordering rules.
unhdr_order *

# Set our own header ordering rules.
hdr_order from: to: cc: date: subject:

##
# Mail sending
##
# Background delivery immediately.
set sendmail_wait = -1

# Don't manually record a copy of sent messages.
unset record

##
# Message composition
##
# Use Neovim for message composition.
set editor = "nvim"

# Set my real name for a sane default from name.
set realname = "Cameron Eagans"

# Put the signature after replies but before parent messages.
# Don't @ me.
set sig_on_top = yes

# Insert -- before signature in replies.
set sig_dashes

# Allow editing headers of outgoing messages.
set edit_headers

# Skip prompt for recipients and subject on message replies.
set fast_reply

# Save attachments with body of message on outgoing messages.
set fcc_attach

# Don't make forwarded messages message/rfc822 attachments
unset mime_forward

# Make the subject line for forwarded messages more in line with the real world.
set forward_format = "Fwd: %s"

# Decode complex messages into text/plain on forwarding.
set forward_decode

# In a reply, add attribution for previous messages.
set attribution = "On %d, %n wrote:"

# Trust the Reply-to: header.
set reply_to

# Include a copy of messages in replies.
set include

# Forwarded messages are included in the main body of the message.
set forward_quote

# Use hunspell for spell checking.
set ispell = "hunspell"


##
# Includes
##
# Set the color scheme.
source ~/.config/mutt/dracula.muttrc

# Include account switching configuration.
source ~/.config/mutt/accounts.muttrc

# Include keybinding configuration.
source ~/.config/mutt/keybindings.muttrc
